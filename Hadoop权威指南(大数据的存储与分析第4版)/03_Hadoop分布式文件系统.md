当所处理的数据集超过一台独立的物理计算机的存储能力时，就有必要对它进行分区并存储到若干台单独的计算机上。**管理网络中跨多台计算机存储的文件系统称为分布式文件系统**。由于该系统架构与网络之上，所以分布式文件系统比普通磁盘文件系统要更为复杂，例如容纳分布式文件系统上的节点故障。

Hadoop自带了一个称为HDFS(Hadoop Distributed Filesystem)的文件系统。有时也称为DFS。HDFS是Hadoop的旗舰机文件系统，但实际上Hadoop是一个综合性的文件系统抽象。下面我们会了解将Hadoop与其它存储系统集成的途径。

# 3.1 HDFS的设计

**HDFS以流式数据访问模式来存储超大文件，运行于商业硬件集群上**；其中

* **超大文件**是指具有几百MB,几百GB甚至几百TB大小的文件；目前已经有存储PB级数据的Hadoop集群了。

* **流式数据访问**：HDFS的构建思路是：一次写入，多次读取时最高效的访问模式。基于大数据集的每次分析都将涉及该数据源的大部门甚至全部数据，所以在读取数据集的时间延迟比读取第一条记录的时间延迟更重要。

* **商业硬件**意味着它不需要运行昂贵的高可靠的硬件上。它可以运行在普通的硬件平台上，这意味着在庞大的集群上运行时，节点故障的几率非常高。HDFS被设计运行在商业硬件意味它会解决这些问题，使程序能够继续运行并不让用户感觉到明显的中断。


HDFS不适用以下类型的应用：

* **低时间延迟的数据访问**，低时间延迟指的是几十毫秒内的响应，HDFS是为高数据吞吐量应用优化的，它会牺牲时间延迟。HBase可以更好的对低延迟应用服务

* **大量的小文件**，由于namenode将文件系统的元数据存储在内存中，所以文件系统所能存储的文件总数会受限于namenode的内存容量。根据经验存储一百万个文件至少需要300MB的内存

* **多用户写入，任意修改文件**，Hadoop中的文件写入只支持单个写入者，并且只能追加到文件尾部。

# 3.2 HDFS的概念

## 3.2.1 数据块



